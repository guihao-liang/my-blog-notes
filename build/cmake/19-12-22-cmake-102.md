---
title: "CMake 101: if I know how if works"
author: Guihao Liang
published: true
---

## big picture

Below is a picture referenced from that post, which depicts the CMake workflow: configuration and generation.
![cmake workflow](https://preshing.com/images/cmake-simple-flowchart.png)

The first step of CMake is configuration, where it executes the `CMakeLists.txt` and figure out **targets** defined in `CMakeLists.txt`.

If the first step goes without an error, it proceeds to the second step, where **targets** will be used by the `generator` to generate build pipelines, which are **input files** for different build system, such as Unix Makefiles, and XCodeproject files, etc.

---

## key concepts

- source file: lowest level, corresponding C/C++ source files; source files are **combined** into targets.
- target: typically executable or library (add_library, add_executable, add_custom_target).
- directory: represent a dir in source tree, and typically has a CMakeLists.txt and one or more targets
- generator: every dir has a local generator that is responsible for generating the Makefiles or project files for that dir. All of the local generators share a common global generator that oversees the build process.

---